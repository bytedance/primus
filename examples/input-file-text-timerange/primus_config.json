{
  "name": "primus_input_file_text",
  "maxAppAttempts": 1,
  "role": [
    {
      "roleName": "worker",
      "num": 1,
      "vcores": 1,
      "memoryMb": 512,
      "jvmMemoryMb": 512,
      "command": "cat",
      "successPercent": 100,
      "failover": {
        "commonFailoverPolicy": {
          "restartType": "ALWAYS",
          "maxFailureTimes": 3,
          "maxFailurePolicy": "FAIL_APP"
        }
      },
      "inputPolicy": "STREAMING"
    }
  ],
  "progressManagerType": "PM_FILE",
  "inputManager": {
    "workPreserve": {
      "workPreserveType": "HDFS",
      "dumpIntervalSecs": 5,
      "rewindSkipNum": 15000
    },
    "fileConfig": {
      "oneTimeInputs": [
        {
          "dayFormat": 0,
          "timeRange": {
            "from": {
              "dayTime": {
                "day": 20200101
              }
            },
            "to": {
              "dayTime": {
                "day": 20200104
              }
            }
          },
          "textInput": {
            "inputDir": "/primus/examples/input-file-text-timerange/data/"
          }
        }
      ],
      "filterRegex": ".+",
      "maxPatternNum": 10000000
    },
    "useFileTaskStore": true,
    "messageBufferSize": 8388608,
    "maxTaskNumPerWorker": 2,
    "stopPolicy": {
      "taskSuccessPercent": 100
    }
  }
}